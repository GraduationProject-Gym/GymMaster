<div class="d-flex">
  <app-sidebar></app-sidebar>
  <div class="main">
    <!-- form form-background -->
    <div class="edit-profile-form ">
      <form [formGroup]="editProfileForm" (ngSubmit)="update()">

        <h2>Edit Profile For {{ editProfileForm.get('name')?.value }}</h2>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" formControlName="address">
        <div *ngIf="editProfileForm.controls['address'].invalid && editProfileForm.controls['address'].touched"
          class="error-msg">
          <div *ngIf="editProfileForm.controls['address'].errors?. ['required']">Address is required</div>
          <div *ngIf="editProfileForm.controls['address'].errors?.['pattern']">Address is not valid </div>
          <div *ngIf="editProfileForm.controls['address'].errors?.['backendError']">
            {{ editProfileForm.controls['address'].errors?.['backendError'] }}
          </div>
        </div>

        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone" formControlName="phone">
        <div *ngIf="editProfileForm.controls['phone'].invalid && editProfileForm.controls['phone'].touched"
          class="error-msg">
          <div *ngIf="editProfileForm.controls['phone'].errors?. ['required']">Phone number is required</div>
          <div *ngIf="editProfileForm.controls['phone'].errors?.['pattern']">Enter a valid phone number (e.g.,
            01234567890)
            <div *ngIf="editProfileForm.controls['phone'].errors?.['backendError']">
              {{ editProfileForm.controls['phone'].errors?.['backendError'] }}
            </div>
          </div>
        </div>

        <label for="age">Age:</label>
        <input type="number" id="age" name="age" formControlName="age">
        <div *ngIf="editProfileForm.controls['age'].invalid && editProfileForm.controls['age'].touched"
          class="error-msg">
          <div *ngIf="editProfileForm.controls['age'].errors?. ['required']">Age is required</div>
          <div *ngIf="editProfileForm.controls['age'].errors?.['min']">Age must be at least 10 years old
          </div>
          <div *ngIf="editProfileForm.controls['age'].errors?.['backendError']">
            {{ editProfileForm.controls['age'].errors?.['backendError'] }}
          </div>
        </div>

        <label for="image">Upload Image:</label>
        <input type="file" id="image" name="image" formControlName="image" (change)="onImageChange($event)">
        <div *ngIf="editProfileForm.controls['image'].invalid && editProfileForm.controls['image'].touched"
          class="error-msg">
          <div *ngIf="editProfileForm.controls['image'].errors?.['backendError']">
            {{ editProfileForm.controls['image'].errors?.['backendError'] }}
          </div>
        </div>

        <input type="hidden" formControlName="id">

        <!-- Alerts -->
        <div *ngIf="errorMessage" class="alert alert-danger">
          {{ errorMessage }}
        </div>

        <div class="text-center">
          <button type="submit" class="btn">Save Changes</button>
        </div>


      </form>
    </div>
  </div>
</div>