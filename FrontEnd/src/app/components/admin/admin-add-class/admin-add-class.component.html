

<div class="d-flex">
  <app-admin-sidebar></app-admin-sidebar>
  <div class="main">
    <div class="add-container">
      <h2>Add New Class</h2>

      <form [formGroup]="classForm" (ngSubmit)="save()">

        <!-- Class Name -->
        <div class="form-group">
          <label for="className">Class Name:</label>
          <input id="className" type="text" formControlName="className" class="form-control">
          <!-- Error Message -->
          <div *ngIf="classForm.controls['className'].invalid && classForm.controls['className'].touched" class="text-danger">
            Class Name is required.
          </div>
        </div>

        <!-- Trainer Name -->
        <div class="form-group">
          <label for="trainerName">Trainer Name:</label>
          <input id="trainerName" type="text" formControlName="trainerName" class="form-control">
          <!-- Error Message -->
          <div *ngIf="classForm.controls['trainerName'].invalid && classForm.controls['trainerName'].touched" class="text-danger">
            Trainer Name is required.
          </div>
        </div>

        <!-- Number of Sessions -->
        <div class="form-group">
          <label for="sessions">Number of Sessions:</label>
          <input id="sessions" type="number" formControlName="sessions" class="form-control">
          <!-- Error Message -->
          <div *ngIf="classForm.controls['sessions'].invalid && classForm.controls['sessions'].touched" class="text-danger">
            Number of Sessions must be at least 4.
          </div>
        </div>

        <!-- Status -->
        <div class="form-group">
          <label for="status">Status:</label>
          <select id="status" formControlName="status" class="form-control">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
          </select>
        </div>

        <!-- Session Information -->
        <!-- <h5 class="mt-2">Sessions</h5>
        <div *ngFor="let group of groupsFormArray.controls; let i = index" class="mb-3 border p-3 rounded bg-light shadow-sm">
          <h6 class="text-secondary">Session {{ i + 1 }}</h6>
          <label for="groupDays{{ i }}">Days (Session {{ i + 1 }}):</label>
          <select id="groupDays{{ i }}" formControlName="days" class="form-control">
            <option *ngFor="let day of days" [value]="day">{{ day }}</option>
          </select>

          <label for="groupHours{{ i }}">Start Hour (Session {{ i + 1 }}):</label>
          <select id="groupHours{{ i }}" formControlName="hours" class="form-control">
            <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
          </select>
          <label for="groupHours{{ i }}">End Hour (Session {{ i + 1 }}):</label>
          <select id="groupHours{{ i }}" formControlName="hours" class="form-control">
            <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
          </select>

          <div *ngIf="group.get('days').invalid && group.get('days').touched" class="text-danger">
            Days is required.
          </div>
          <div *ngIf="group.get('hours').invalid && group.get('hours').touched" class="text-danger">
            Hours is required.
          </div>
        </div> -->


        <h5 class="mt-2">Sessions</h5>
<div *ngFor="let group of groupsFormArray.controls; let i = index" class="mb-3 border p-3 rounded bg-light shadow-sm">
  <h6 class="text-secondary">Session {{ i + 1 }}</h6>

  <label for="groupDays{{ i }}">Days (Session {{ i + 1 }}):</label>
  <select id="groupDays{{ i }}" [formControlName]="'days'" class="form-control">
    <option *ngFor="let day of days" [value]="day">{{ day }}</option>
  </select>
  <label for="groupStartHour{{ i }}">Start Hour Session {{ i + 1 }}:</label>
<input id="groupStartHour{{ i }}" type="time" formControlName="startHour" class="form-control">

<label for="groupEndHour{{ i }}">  End Hour Session {{ i + 1 }}:</label>
<input id="groupEndHour{{ i }}" type="time" formControlName="endHour" class="form-control">

<!--
  <label for="groupHours{{ i }}">Start Hour (Session {{ i + 1 }}):</label>
  <select id="groupHours{{ i }}" [formControlName]="'hours'" class="form-control">
    <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
  </select>

  <label for="groupHoursEnd{{ i }}">End Hour (Session {{ i + 1 }}):</label>
  <select id="groupHoursEnd{{ i }}" [formControlName]="'hours'" class="form-control">
    <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
  </select> -->

  
  <!-- Error Messages -->
  <div *ngIf="group?.get('days')?.invalid && group?.get('days')?.touched" class="text-danger">
    Days is required.
  </div>
  <div *ngIf="group?.get('hours')?.invalid && group?.get('hours')?.touched" class="text-danger">
    Hours is required.
  </div>
</div>

        <button type="button" class="btn btn-primary" (click)="addGroup()">Add Session</button>

        <!-- Equipment Information -->
        <div class="form-group">
          <label for="equipment">Equipment Name:</label>
          <input id="equipment" type="text" formControlName="equipment" class="form-control">
          <!-- Error Message -->
          <div *ngIf="classForm.controls['equipment'].invalid && classForm.controls['equipment'].touched" class="text-danger">
            Equipment is required.
          </div>
        </div>

        <!-- Class Description -->
        <div class="form-group">
          <label for="description">Description:</label>
          <textarea id="description" formControlName="description" class="form-control" rows="5"></textarea>
          <!-- Error Message -->
          <div *ngIf="classForm.controls['description'].invalid && classForm.controls['description'].touched" class="text-danger">
            Maximum length is 500 characters.
          </div>
        </div>

        <!-- Class exercise -->
        <div class="form-group">
          <label for="exercise">Exercise:</label>
          <textarea id="exercise" formControlName="exercise" class="form-control" rows="5"></textarea>
          <!-- Error Message -->
          <div *ngIf="classForm.controls['exercise'].invalid && classForm.controls['exercise'].touched" class="text-danger">
            Maximum length is 500 characters.
          </div>
        </div>

        <!-- Save and Cancel Buttons -->
        <div class="text-center mt-2">
          <button type="submit" class="btn btn-success" [disabled]="classForm.invalid">Save</button>
          <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</div>

